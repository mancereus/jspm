<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<script src="data.js"></script>
<title>MonsterMob</title>
<link href="tigereye.css" rel="stylesheet" type="text/css" />
<style>
    .card {
        position: relative;
    }
</style>
<dom-module id="tigereye-card">

    <template>
        <iron-pages selected="{{selected}}">
            <div class="card"><img style="margin:0;width: 100%; height: 100%" src="img/back.png"></img>
            </div>
            <div class="card">
                <div class="head">
                    <div class="titel">{{data.type}}</div>
                </div>
                <img style="margin:0;width: 100px; height: 100px" src="img/{{data.type}}.png"></img>
                <template is="dom-if" if="{{data.ver}}">
                    <img src="img/vertic.jpg" style="position:absolute; top:-10px;right: 0px;width:15px;height: 190px;" alt="">
                </template>
                <template is="dom-if" if="{{data.hor}}">
                    <img src="img/horiz.jpg" style="position:absolute; left: 0;bottom: -10px;height:15px; width: 190px;" alt="">
                </template>
            </div>
        </iron-pages>


    </template>

    <script>
        Polymer({
            is: 'tigereye-card',
            properties: {
                data: Object,
                open: Boolean,
                selected: {type: Number,
                    value: 0},
            },
            listeners: {
                'track': 'handleTrack',
                'tap': 'openCard',
            },
            regularTap: function (e) {
                console.log("Thank you for tapping");
            },
            attached: function () {
                if (this.data != undefined &&this.data.open)
                this.openCard();
            },
            openCard: function (e) {
                this.selected = 1;
            },
            handleTrack: function (e) {
                switch (e.detail.state) {
                    case 'start':
                        console.log('Tracking started!');
                        break;
                    case 'track':
                        console.log('Tracking in progress... ');
                        break;
                    case 'end':
                        var target = e.detail.hover();
                        this.fire("dropCard", this.data, {node: target});
                        break;
                }
            }
        });
    </script>

</dom-module>