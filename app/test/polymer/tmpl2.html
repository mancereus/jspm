<!doctype html>
<html>

<head>
	<title>polymer test template 1</title>
	<script src="../../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
	<script src="data2.js"></script>
	<link rel="import" href="../../../bower_components/polymer/polymer.html">

</head>

<body>
	<h1>Array handling</h1>
	<h2>minimal template with attribute</h2>
	<template is="dom-bind">
		<tst-data data="{{data}}"></tst-data>
		<tst-view data="{{data}}"></tst-view>
	</template>

	<dom-module id="tst-data">
		<script>
			Polymer({
		is: 'tst-data',
		properties: {
			data: {
				notify: true,
				value: function() {
					return cards;
					}
			}
		}
	});
		</script>

	</dom-module>

	<dom-module id="tst-view">

		<template>
			<input type="button" on-click="insert" value="insert" />
			<template is="dom-repeat" items="{{data.stack}}">
				{{item.key}}
			</template>
			<br>
			<input type="button" on-click="move" value="move" />
			<template is="dom-repeat" items="{{data.player1}}">
				{{item.key}}
			</template>

		</template>

		<script>
			Polymer({
				is: 'tst-view',
				properties: {
					name: {
						type: String,
						value: "test xy!"
					},
					data: {
						type: Array,
						value: function() {return [];}
					}
				},
				observers: [
					'dataModified(data.splices)'
				],
				insert: function() {
					this.push('data.stack', {key:"Jack"});
				},
				move: function() {
					var item = this.pop('data.stack');
					this.push('data.player1', item);
				},
				dataModified: function(changeRecord) {
					console.log("mod" + changeRecord);
					if(changeRecord != undefined) {
						console.log(changeRecord.keySplices);
						console.log(changeRecord.indexSplices);
					}
				}
			});
		</script>

	</dom-module>
	<hr/>



</body>

</html>