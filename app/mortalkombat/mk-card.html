<dom-module id="mk-card">
    <template>
        <style>
             :host {
                display: block;
            }

            .rotate {
                transform: rotate(180deg);
            }

            .card {
                padding: 10px;
                display: grid;
                grid-template-columns: 1fr 2fr 1fr;
                grid-template-rows: 1fr 3fr 1fr 3fr 1fr;
                width: 350px;
                height: 450px;
                background-image: url("img/borders.png");
                background-size: 100% 100%;
                margin: 0 -2px;
                /* 3 */
                text-align: center;
                vertical-align: middle;
            }
            div {
                font-family: 'Carter One', cursive;
            }
            .titel {
                font-family: 'Carter One', cursive;
                font-size: 14pt;
                font-weight: bold;
                display: inline-block;
                text-align: center;
            }
            .small {
                font-size: 9pt;
                font-weight: normal;
            }
        </style>
        <template is="dom-if" if="[[flip]]">
            <div class="card">
                <mk-icon typ="[[card.upLeft.typ]]"></mk-icon>
                <div class="titel">Angriff Links</div>
                <mk-icon typ="[[card.upRight.typ]]"></mk-icon>
                <mk-infobox flip effects=[[card.upLeft.effects]]></mk-infobox>
                <mk-icon typ="[[card.name]]" big></mk-icon>
                <mk-infobox effects=[[card.upRight.effects]]>></mk-infobox>

                <mk-icon typ="logo"></mk-icon>
                <div style="border: 1px solid black;">
                    <span class="titel">[[card.name]]</span>
                    <mk-icon typ="heart" mini></mk-icon>[[card.hearts]]
                    <mk-icon typ="action" mini></mk-icon>[[card.special]]
                </div>
                <mk-icon typ="logo" rotate></mk-icon>

                <mk-infobox rotate effects=[[card.downLeft.effects]]>></mk-infobox>
                <mk-icon typ="[[card.name]]Special" rotate big></mk-icon>
                <mk-infobox rotate flip effects=[[card.downRight.effects]]>></mk-infobox>

                <mk-icon typ="[[card.downLeft.typ]]" rotate></mk-icon>
                <div class="titel rotate"> Spezial Angriff
                    <mk-icon typ="action" mini></mk-icon>
                </div>
                <mk-icon typ="[[card.downRight.typ]]" rotate></mk-icon>
            </div>
        </template>

        <template is="dom-if" if="[[!flip]]">
            <div class="card">
                <mk-icon typ="[[card.upLeft.typ]]" flip></mk-icon>
                <div class="titel">Angriff rechts</div>
                <mk-icon typ="[[card.upRight.typ]]" flip></mk-icon>
                <mk-infobox flip effects=[[card.upLeft.effects]]>></mk-infobox>
                <mk-icon typ="[[card.name]]" big flip=[[!flip]]></mk-icon>
                <mk-infobox effects=[[card.upRight.effects]]>></mk-infobox>

                <mk-icon typ="logo"></mk-icon>
                <div style="border: 1px solid black;"><span class="small rotate">[[card.desc]]</span>
                    <template is="dom-if" if="[[flip]]">
                        <mk-icon typ="heart" mini></mk-icon>[[flip]]
                        <mk-icon typ="action" mini></mk-icon>[[card.special]]
                    </template>
                </div>
                <mk-icon typ="logo" rotate></mk-icon>


                <div>
                    <mk-infobox rotate effects=[[card.downLeft.effects]]>></mk-infobox>
                </div>
                <mk-icon typ="[[card.name]]Special" rotate big flip=[[!flip]]></mk-icon>
                <div>
                    <mk-infobox rotate flip effects=[[card.downRight.effects]]>></mk-infobox>
                </div>

                <mk-icon typ="[[card.downLeft.typ]]" rotate></mk-icon>
                <div class="titel rotate"> Spezial Verteidigung
                </div>
                <mk-icon typ="[[card.downRight.typ]]" rotate></mk-icon>
            </div>
        </template>
    </template>
    <script>
        Polymer({
            is: 'mk-card',
            properties: {
                card: Object
            },
            ready: function () {
                this.flip = (this.card.hearts !== undefined)
            }

        });
    </script>
</dom-module>